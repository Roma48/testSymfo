{% extends "::base.html.twig" %}

{% block body %}
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3>
                {{ title }} категорію:
                <div class="pull-right">
                    <a href="{{ path('cto_jobcategories_home') }}" class="btn btn-sm btn-success"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;&nbsp;Назад</a>
                </div>
            </h3>
        </div>
    </div>

    <br>
    <div class="row">
        <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">

            {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
                <div class="error-handling">
                    {{ form_label(form.name) }}
                    {{ form_widget(form.name) }}
                    {{ form_errors(form.name) }}
                </div>
                <div style="margin-bottom: 5px;"></div>
                <div class="error-handling">
                    {{ form_label(form.normHours) }}
                    {{ form_widget(form.normHours) }}
                    {{ form_errors(form.normHours) }}
                </div>
                <div style="margin-bottom: 5px;"></div>
                <div class="error-handling" id="normHoursContainer">
                    {{ form_label(form.normHoursPrice) }}
                    {{ form_widget(form.normHoursPrice) }}
                    {{ form_errors(form.normHoursPrice) }}
                </div>
                <div style="margin-bottom: 5px;"></div>
                <br>
                <div class="text-center">
                    <button type="submit" class="btn btn-success">Виконати</button>
                </div>
                <div class="hidden">
                    {{ form_rest(form) }}
                </div>
            {{ form_end(form) }}

        </div>
    </div>

{% endblock body %}
{% block javascripts %}
    <script>
        jQuery(function ($) {
            var checkbox = document.getElementById('job_category_normHours');
            var normPrice = $("#normHoursContainer");

            function check() {
                if (checkbox.checked) {
                    // normHours price
                    normPrice.show();
                } else {
                    //  fixed price
                    normPrice.hide();
                }
            }

            check();

            checkbox.addEventListener('click', function(){
                check();
            });
        });
    </script>
{% endblock javascripts %}
